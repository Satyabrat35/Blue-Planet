<html>
    <head>
        <meta charset="utf-8">
        <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
        <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">
        <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.47.0/mapbox-gl.js'></script>
        <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.47.0/mapbox-gl.css' rel='stylesheet' />
        <style>
            body {
                margin: 0;
                padding: 0;
            }
            #map {
        position: absolute;
        top: 0;
        bottom: 0;
        width: 100%;
      }
      .marker {
  background-size: cover;
  width: 25px;
  height: 25px;
  border-radius: 50%;
  cursor: pointer;
}
.mapboxgl-popup {
  max-width: 200px;
}

.mapboxgl-popup-content {
  text-align: center;
  font-family: 'Open Sans', sans-serif;
}



        </style>
    </head>
    <body>
        <div id='map'></div>

    <script>

    mapboxgl.accessToken = 'pk.eyJ1IjoiZXJpazM1IiwiYSI6ImNqYm0yYTZmaTRya2gycnFmYndvanFwMzIifQ.HeBrixh5h2c1qRLhve7lIg';

var map = new mapboxgl.Map({
  container: 'map',
  style: 'mapbox://styles/mapbox/light-v9',
  center: [22.666,-7.05],
  zoom: 1.5
});

// code from the next step will go here!
var geojson = {
  "features": [
    {
      "type": "Feature",
      "properties": {
        "title": "African Wild Dog",
        "description": "The largest populations remain in southern Africa and the southern part of East Africa (especially Tanzania and northern Mozambique)",
        "icon": {
            "iconUrl": 'images/leopard.svg'
        }
      },
      "geometry": {
        "coordinates": [
          37.781,
          -12.251
        ],
        "type": "Point"
      },
      "id": "078339b98a6f159053e222057982876b"
    },
    {
      "type": "Feature",
      "properties": {
        "title": "Yangtze Finless Porpoise",
        "description": "The Yangtze River, the longest river in Asia, used to be one of the only two rivers in the world that was home to two different species of dolphinâ€”the Yangtze finless porpoise and the Baiji dolphin",
        "icon": {
            "iconUrl": 'images/track.svg'
        }
      },
      "geometry": {
        "coordinates": [
          120.879232,
          31.823618
        ],
        "type": "Point"
      },
      "id": "51ac8d1a74f0acb1a9ef651984347f04"
    },
  ],
  "type": "FeatureCollection"
}
geojson.features.forEach(function(marker) {
    var ele = document.createElement('div');
    ele.className = 'marker';
    new mapboxgl.Marker(ele)
    .setLngLat(marker.geometry.coordinates)
    .setPopup(new mapboxgl.Popup({ offset: 25 }) // add popups
    .setHTML('<h3>' + marker.properties.title + '</h3><p>' + marker.properties.description + '</p>'))
    .setIcon(marker.properties.icon)
    .addTo(map);
});

</script>

    </body>
</html>